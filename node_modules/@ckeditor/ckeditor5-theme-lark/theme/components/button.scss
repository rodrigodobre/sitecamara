// Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
// For licensing, see LICENSE.md or http://ckeditor.com/license

/**
 * Implements a button of given background color.
 *
 * @param {String} $color - Background color of the button.
 */
@mixin ck-button-colors( $color, $offset: 0 ) {
	background: ck-color( $color, $offset );
	border-color: ck-border-color( $color, $offset );

	@include ck-button-state-colors( $color, $offset );
}

/**
 * Implements button states.
 *
 * @param {String} $color - Background color of the button.
 */
@mixin ck-button-state-colors( $color, $offset: 0 ) {
	&:not(.ck-disabled) {
		&:hover,
		&:focus {
			background: ck-color( $color, $offset - 10 );
			border-color: ck-border-color( $color, $offset - 10 );
		}

		&:active {
			background: ck-color( $color, $offset - 15 );
			border-color: ck-border-color( $color, $offset - 15 );
			box-shadow: inset 0 2px 2px ck-color( $color, $offset - 25 );
		}
	}

	// https://github.com/ckeditor/ckeditor5-theme-lark/issues/98
	&.ck-disabled {
		background: ck-color( $color, $offset + 10 );
		border-color: ck-border-color( $color, $offset + 10 );
	}
}

/**
 * A helper to define buttonâ€“specific icon styles.
 *
 */
@mixin ck-button-icon {
	.ck-icon {
		@content;
	}
}

.ck-button,
a.ck-button {
	@include ck-button-colors( 'background' );
	@include ck-rounded-corners();

	border-width: 1px;
	border-style: solid;
	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: ck-spacing( 'small' );
	line-height: $ck-icon-size / $ck-font-size-base;

	&:focus {
		@include ck-focus-ring();
		@include ck-box-shadow( $ck-focus-outer-shadow );
	}

	@include ck-button-icon {
		float: left;
	}

	// https://github.com/ckeditor/ckeditor5-theme-lark/issues/70
	&.ck-disabled {
		@include ck-button-icon {
			@include ck-disabled;
		}

		// https://github.com/ckeditor/ckeditor5-theme-lark/issues/98
		.ck-button__label {
			@include ck-disabled;
		}
	}

	&.ck-button_with-text {
		padding: ck-spacing( 'small' ) ck-spacing();

		@include ck-button-icon {
			margin-left: -#{ck-spacing( 'small' )};
			margin-right: ck-spacing( 'small' );
		}

		.ck-button__label {
			display: block;
		}
	}

	&.ck-on {
		@include ck-button-colors( 'foreground' );
	}

	&-action {
		@include ck-button-colors( 'action' );

		text-shadow: 0 -1px ck-color( 'action', -20 );
		color: ck-color();

		&:hover,
		&:focus,
		&:active {
			text-shadow: 0 -1px ck-color( 'action', -40 );
		}
	}

	&-bold {
		font-weight: bold;
	}

	.ck-icon {
		use,
		use * {
			color: inherit;
		}
	}

	.ck-button__label {
		float: left;
		line-height: inherit;
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;
	}
}
